[supervisord]
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
childlogdir=/var/log/supervisor
logfile_maxbytes=50MB
logfile_backups=10
loglevel=info
nodaemon=true
minfds=1024
minprocs=200
user=root

[program:php-fpm]
command=/usr/sbin/php-fpm8.2 --nodaemonize --fpm-config /etc/php/8.2/fpm/php-fpm.conf
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/php-fpm.log
stderr_logfile=/var/log/supervisor/php-fpm.error.log

[program:vite-dev-server]
command=npm run dev
directory=/var/www/html
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/vite-dev-server.log
stderr_logfile=/var/log/supervisor/vite-dev-server.error.log
environment=PATH="/usr/local/bin:/usr/bin:/bin",NODE_ENV="development"